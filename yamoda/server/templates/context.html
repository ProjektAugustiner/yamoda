{% extends "layout.html" %}
{% set title = "Context" %}
{% block body %}
  <div class="page-header">
    <h1>{{ context.name }}</h1>
  </div>
  {% if context.brief %}
  <p class="lead">
    {{ context.brief }}
    {%- if context.description %}
    <a href="#context_description">More...</a>
    {%- endif %}
  </p>
  {%- endif %}

  {%- if context.parameters %}
  <table class="table table-condensed table-bordered table-striped">
    <thead>
      <tr>
        <th>Parameter</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {%- for param in context.parameters %}
      <tr>
        <td>
        {% if param.description %}
        <a href="#{{ param.name }}">
          {{ param.name }}
        {% if param.unit %}
          ({{ param.unit }})
        {% endif %}
        </a></td>
        {% else %}
        {{ param.name }}
        {% endif %}
        <td>{{ param.brief }}</td>
      </tr>
      {%- endfor %}
    </tbody>
  </table>
  {%- endif %}
  {%- if context.description %}
    <h2 id="context_description">Description</h2>
    <p>{{ context.description|markdown }}</p>
  {%- endif %}

  {%- if context.parameters %}
    <h2>Parameters <small>A detailed description of the parameters</small></h2>
    {%- for param in context.parameters %}
    {% if param.description %}
    <h3 id="{{ param.name }}">
      {{ param.name }}
    {% if param.unit %}
      <small>({{ param.unit }})</small>
    {% endif %}
    </h3>
    <p>{{ param.description|markdown }}</p>
    {% endif %}
    {%- endfor %}
  {%- endif %}
{% endblock %}
