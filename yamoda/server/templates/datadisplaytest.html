{% extends "layout.html" %}
{% set title = "Data Display Test" %}
{% block body %}
  <table id="datatable" class="table table-condensed table-bordered table-striped">
    <thead>
      <tr>
        <th class="hidden">#</th>
        <th>Parameter</th>
        <th>Value</th>
        <th>Shape</th>
        <th>Unit</th>
      </tr>
    </thead>
    <tbody>
      {%- for entry in data %}
      <tr>
        <td class="hidden indexcolumn" index="{{ loop.index }}" entry_id="{{entry.id}}"</td>
        <td>{{ entry.parameter_name }}</td>
        {% if not entry.shape %}
        <td>{{ entry.value|dataformat }}</td>
        {% elif entry.shape|length == 1 %}
        <td class="valuecolumn" 
          values="{{ entry.value|dataformat }}" 
          count = "{{ entry.shape[0] }}"
          normalMin="{{ entry.lower }}", 
          normalMax="{{entry.upper}}">Loading...</td>
        {% elif entry.shape|length == 2 %}
        <td>
          <img width="45%"
            src="{{ url_for('static', filename='entry_' + entry.id|string + '.png')}}">
          </img>
        </td>
        {% else %}
        <td>Multidimensional Value</td>
        {% endif %}
        <td>{{ entry.value|shape }}</td>
        <td>{{ entry.unit|unitformat }}</td>
      </tr>
      {%- endfor %}
    </tbody>
  </table>
<script type="text/javascript" src="{{ url_for('static', filename='js/log4javascript.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/yamoda.js') }}"></script>
<script src="{{ url_for('static', filename='jquery.sparkline.js') }}"></script>
<script src="{{ url_for('static', filename='js/datadisplaytest.js') }}"></script>
{% endblock %}

{# vim: set filetype=htmljinja sw=2 ts=2 sts=2 expandtab: #}
