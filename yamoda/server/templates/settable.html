{% macro settable(sets) %}
  <table id="settable" class="table table-condensed table-bordered table-striped">
    <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Subsets</th>
        <th>Datas</th>
        <th>Created</th>
      </tr>
    </thead>
    <tbody>
      {%- for set in sets %}
      <tr>
        <td>{{ loop.index }}</td>
        <td><a href="{{ url_for('set', id=set.id) }}">{{ set.name }}</a></td>
        <td>{{ set.children|length }}</td>
        <td>{{ set.datas|length }}</td>
        <td>{{ set.created|dtformat }}</td>
      </tr>
      {%- endfor %}
    </tbody>
  </table>
  <script>
    $(document).ready(function() {
      $('#settable').dataTable({
        bLengthChange: false, bPaginate: false, sDom: 'f<"datatoolbar">rtip'});
      // move button into the <div> of dataTable
      //$(".datatoolbar").append($(".newbutton").remove());
    });
  </script>
{% endmacro %}

{% extends "layout.html" %}
{% set title = "Set" %}
{% block body %}
  <h2>Datasets</h2>
  {{ settable(sets) }}
{% endblock %}

{# vim: set filetype=htmljinja sw=2 ts=2 sts=2 expandtab: #}
