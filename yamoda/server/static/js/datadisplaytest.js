// Generated by CoffeeScript 1.3.3
(function() {
  var logg;

  logg = yamoda.get_logger("yamoda.datadisplaytest");

  $(document).ready(function() {
    logg.info("document.ready");
    $("#datatable").dataTable({
      bStateSave: true
    });
    return $("td.valuecolumn").each(function(i, elem) {
      var cell_width, el$, pixel_per_value, value_count;
      el$ = $(elem);
      logg.info("sparkline for elem", i, el$.attr("normalMax"));
      value_count = el$.attr("count");
      cell_width = el$.width();
      pixel_per_value = cell_width / value_count;
      return $(elem).sparkline("html", {
        type: "line",
        height: "60",
        tooltipFormat: '<span style="color: {{color}}">&#9679;</span> {{prefix}}{{x}} | {{y}}{{suffix}}',
        defaultPixelsPerValue: pixel_per_value,
        normalRangeMin: el$.attr("normalMin"),
        normalRangeMax: el$.attr("normalMax"),
        fillColor: false
      });
    });
  });

}).call(this);
